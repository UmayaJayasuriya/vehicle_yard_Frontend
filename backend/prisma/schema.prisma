generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// SQLite does not support Prisma enums; use String for status

model Vehicle {
  id              String          @id
  title           String
  price           Int
  shortDesc       String?
  status          String          @default("available")
  coverImage      String?
  // details
  brand           String?
  modelName       String?
  year            Int?
  mileageKm       Int?
  fuel            String?
  transmission    String?
  location        String?
  chassisNo       String?
  engineNo        String?
  registrationNo  String?
  color           String?

  // finance
  boughtPrice     Int?
  boughtDate      DateTime?
  soldPrice       Int?
  soldDate        DateTime?

  images          VehicleImage[]
  maintenance     Maintenance[]
}

model VehicleImage {
  id        String  @id
  url       String
  vehicleId String
  vehicle   Vehicle @relation(fields: [vehicleId], references: [id], onDelete: Cascade)
}

model Maintenance {
  id        String   @id
  cost      Int
  note      String
  date      DateTime
  vehicleId String
  vehicle   Vehicle  @relation(fields: [vehicleId], references: [id], onDelete: Cascade)
}
